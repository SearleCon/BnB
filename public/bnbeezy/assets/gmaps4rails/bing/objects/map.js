(function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};this.Gmaps4Rails.Bing.Map=function(e){function n(e,t){var n,r,i;this.controller=t,r=this.setConf(),this.options=this.mergeObjects(e,r),n={credentials:this.options.provider_key,mapTypeId:this._getMapType(this.options),center:this.createLatLng(this.options.center_latitude,this.options.center_longitude),zoom:this.options.zoom},i=this.mergeObjects(e.raw,n),this.serviceObject=new Microsoft.Maps.Map(document.getElementById(this.options.id),i)}return t(n,e),n.include(Gmaps4Rails.Interfaces.Map),n.include(Gmaps4Rails.Map),n.include(Gmaps4Rails.Bing.Shared),n.include(Gmaps4Rails.Configuration),n.prototype.CONF={type:"road"},n.prototype.extendBoundsWithMarkers=function(){var e,t,n,r,i;e=[],i=this.controller.markers;for(n=0,r=i.length;n<r;n++)t=i[n],e.push(t.serviceObject.getLocation());return this.boundsObject=Microsoft.Maps.LocationRect.fromLocations(e)},n.prototype.extendBoundsWithPolyline=function(e){},n.prototype.extendBoundsWithPolygon=function(e){},n.prototype.extendBoundsWithCircle=function(e){},n.prototype.extendBound=function(e){},n.prototype.adaptToBounds=function(){return this._fitBounds()},n.prototype.centerMapOnUser=function(e){return this.serviceObject.setView({center:e})},n.prototype._fitBounds=function(){return this.serviceObject.setView({bounds:this.boundsObject})},n.prototype._getMapType=function(e){switch(e.type){case"road":return Microsoft.Maps.MapTypeId.road;case"aerial":return Microsoft.Maps.MapTypeId.aerial;case"auto":return Microsoft.Maps.MapTypeId.auto;case"birdseye":return Microsoft.Maps.MapTypeId.birdseye;case"collinsBart":return Microsoft.Maps.MapTypeId.collinsBart;case"mercator":return Microsoft.Maps.MapTypeId.mercator;case"ordnanceSurvey":return Microsoft.Maps.MapTypeId.ordnanceSurvey;default:return Microsoft.Maps.MapTypeId.auto}},n}(Gmaps4Rails.Common)}).call(this);