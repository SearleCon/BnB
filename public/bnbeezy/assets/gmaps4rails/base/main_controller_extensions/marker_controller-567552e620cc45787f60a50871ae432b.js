(function(){this.Gmaps4Rails.MarkerController={addMarkers:function(e){var t,n,r,i,s,o,u,a;this.markerClusterer!=null&&this.clearClusterer();for(t=u=0,a=e.length;u<a;t=++u)s=e[t],n=s.lat,i=s.lng,this.markers_conf.randomize&&(r=this.randomize(n,i),n=r[0],i=r[1]),o=this.createMarker({marker_picture:s.picture?s.picture:this.markers_conf.picture,marker_width:s.width?s.width:this.markers_conf.width,marker_height:s.height?s.height:this.markers_conf.length,marker_title:s.title?s.title:null,marker_anchor:s.marker_anchor?s.marker_anchor:null,shadow_anchor:s.shadow_anchor?s.shadow_anchor:null,shadow_picture:s.shadow_picture?s.shadow_picture:null,shadow_width:s.shadow_width?s.shadow_width:null,shadow_height:s.shadow_height?s.shadow_height:null,marker_draggable:s.draggable?s.draggable:this.markers_conf.draggable,rich_marker:s.rich_marker?s.rich_marker:null,zindex:s.zindex?s.zindex:null,lat:n,lng:i,index:t}),Gmaps4Rails.Common.mergeWith.call(o,s),o.createInfoWindow(),this.markers.push(o);return this.clusterize()},replaceMarkers:function(e){return this.clearMarkers(),this.markers=[],this.boundsObject=this.createLatLngBounds(),this.addMarkers(e)},clearMarkers:function(){var e,t,n,r;this.markerClusterer!=null&&this.clearClusterer(),r=this.markers;for(t=0,n=r.length;t<n;t++)e=r[t],e.clear();return this.markers=[]},showMarkers:function(){var e,t,n,r,i;r=this.markers,i=[];for(t=0,n=r.length;t<n;t++)e=r[t],i.push(e.show());return i},hideMarkers:function(){var e,t,n,r,i;r=this.markers,i=[];for(t=0,n=r.length;t<n;t++)e=r[t],i.push(e.hide());return i},randomize:function(e,t){var n,r,i,s;return i=this.markers_conf.max_random_distance*this.random(),s=this.markers_conf.max_random_distance*this.random(),n=parseFloat(e)+180/Math.PI*(s/6378137),r=parseFloat(t)+90/Math.PI*(i/6378137)/Math.cos(e),[n,r]}}}).call(this);